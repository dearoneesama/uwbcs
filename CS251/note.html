<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Computer Organization</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
<style>
    body {
        padding: 0 1px;
    }
    @media only screen and (max-width:800px){
        html {
            padding: 0 16px;
        }
        body {
            margin: 0;
        }
        code {
            font-size: .9rem;
        }
    }
</style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </head>
    <body class="vscode-light">
        <p>page: <a href="https://www.student.cs.uwaterloo.ca/~cs251/S20/index.shtml">https://www.student.cs.uwaterloo.ca/~cs251/S20/index.shtml</a></p>
<p>Instructor: Rosina Kharal, Mohammad Mazaheri Kalahrody</p>
<ul>
<li><a href="#week-1-may-11">Week 1. May 11</a></li>
<li><a href="#week-2-may-18">Week 2. May 18</a></li>
<li><a href="#week-3-may-25">Week 3. May 25</a></li>
<li><a href="#week-4-june-1">Week 4. June 1</a></li>
<li><a href="#week-5-june-8">Week 5. June 8</a></li>
<li><a href="#week-6-june-15">Week 6. June 15</a></li>
<li><a href="#week-7-june-22">Week 7. June 22</a></li>
<li><a href="#week-8-june-29">Week 8. June 29</a></li>
<li><a href="#week-9-july-6">Week 9. July 6</a></li>
<li><a href="#week-10-july-13">Week 10. July 13</a></li>
<li><a href="#week-11-july-20">Week 11. July 20</a></li>
</ul>
<h1 id="week-1-may-11">Week 1. May 11</h1>
<p>Q1-Q12, A0-A6, T1-T3</p>
<p><strong>defn.</strong> <em>assembly language</em> is any low-level programming language with a very strong correspondence between the instructions in the language and the architecture's machine code instructions.</p>
<pre><code><code><div>                  compiler(cs241)     assembler(cs251)
high level language    -&gt;    assembly    -&gt;    binary machine code
</div></code></code></pre>
<h2 id="arm-overview">ARM overview</h2>
<ul>
<li>computers execute assembly instructions
<ul>
<li>in binary on computer, but text for people</li>
</ul>
</li>
<li>only simple operations: add, sub, goto, conditional goto</li>
<li>instructions operate on two types of data:
<ul>
<li>register: high speed access</li>
<li>ram: slow to access</li>
</ul>
</li>
</ul>
<pre><code><code><div>                                                                        +---------------------+
                                                                        |  main program       |
      +------------------------------------------------------+          |                     |
      | CPU              main processor                      |          |                     |
      |                                                      |          |                     |
      |    +----------+                      +-----------+   |          |+-------------------+|
      |    |          |                      |           |   |          ||my program code data|
      |    |          |                      |           |   |          ||                   ||
      |    |instruction  +---------------+   |data       |   |          ||000 ...            ||
      |    |memory    |  | register file |   |memory     |   |          ||008 ...            ||
      |    |          |  |X0  2.fetch    |   |           |   |          ||                   ||
      |    |1.all code|  |X1  LDUR and   |   |1.all data |   |          ||                   ||
      |    |is copied |  |    execute..  |   |is copied  |   |          ||                   ||
      |    |here:     |  |    4.fetch    |   |here       |   |          ||                   ||
      |    |          |  |   ADD and exec.   |           |   |          ||                   ||
      |    |000 LDUR ..  |   5.fetch STUR|   |200 arr[0] |   |          ||                   ||
      |    |004 ADD ..|  |   and exec    |   |           |   |          ||                   ||
      |    |          |  |               |   |3.data     |   |          ||                   ||
      |    |          |  |X31/XZR        |   |accessed   |   |          ||                   ||
      |    |          |  +---------------+   |here       |   |          ||                   ||
      |    |          |                      |6.data     |   |          ||                   ||
      |    |          |                      |stored here|   |          ||                   ||
      |    +----------+                      +-----------+   |          ||                   ||
      |                                                      |          |+-------------------+|
      +------------------------------------------------------+          |                     |
                                                                        |                     |
                                                                        +---------------------+
</div></code></code></pre>
<p>fetch-execute cycle:</p>
<h3 id="register">register</h3>
<p>each register holds max 64 bits. there are 32 registers: X0,X1,...,X31/XZR</p>
<p><strong>eg.</strong> exec in register</p>
<pre><code class="language-asm"><code><div>// assume values are preloaded into X... registers
// X1: f, X2: g, X3: h, X4: i, X5: j

// f = (g + h) - (i + j)

// equivalent ARM:
//  dest lhs rhs
ADD X6, X2, X3  ;; X2, X3 not changed
ADD X7, X4, X5  ;; X6, X7 hold temp value
SUB X1, X6, X7  ;; X1 has the final value

// then put value in X1 to f
</div></code></code></pre>
<p>types of arm instructions:</p>
<ul>
<li>R-format
<ul>
<li><code>ADD X1, X2, X3</code> adds content of X2 to contents of X3; store result in X1</li>
</ul>
</li>
<li>D-format
<ul>
<li><code>LDUR X1, [X2, #20]</code> load data from address X2+20 into X1</li>
<li><code>STUR X1, [X2, #30]</code> store data from X1 into address X2+30</li>
</ul>
</li>
<li>I-format
<ul>
<li><code>ADDI X1, X2, #100</code> adds immediate value 100 to contents of X2; store result in X1</li>
</ul>
</li>
<li>B-format
<ul>
<li><code>B #28</code> go to 28 instructions later</li>
</ul>
</li>
<li>CB-format
<ul>
<li><code>CBZ X1, #8</code> if X1 is 0, then go to 8 instructions later, else next instruction</li>
</ul>
</li>
</ul>
<p>there are instruction memory and data memory.</p>
<p>each instruction requires 32 bits (4 bytes)</p>
<p><strong>eg.</strong> program in memory</p>
<pre><code class="language-asm"><code><div>//  PC      instruction
    000:    ADD X1,X2,X3
    004:    SUB X1,X3,X5
    008:    ADDI X2,X12,#16
</div></code></code></pre>
<p>first instruction line takes 32 bits to specify; start byte is 0; when i request byte 0, i also get 4 bytes in total (0-3)</p>
<h4 id="branch">branch</h4>
<ul>
<li>jump to x instructions later. add constant*4 to PC</li>
</ul>
<pre><code class="language-asm"><code><div>100: B #3  // go to 100+(12)=112
104: ...
108: ...
112: ...
</div></code></code></pre>
<h4 id="conditional-branch-cbz">conditional branch <code>CBZ</code></h4>
<ul>
<li>compare contents of register X1 to zero, if equal, add constant*4 and add to PC</li>
<li>if not, the instruction following branch is executed</li>
<li>constant can be negative</li>
<li><code>CBNZ</code> similar but if X1 is zero</li>
<li>the branch target address ie <code>PC += PC + offset*4</code></li>
</ul>
<p><strong>eg.</strong></p>
<pre><code class="language-asm"><code><div>// multiply 5 six times
100: ADD X1, XZR, XZR   // XZR(X31) is 0. clear the content of X1
104: ADDI X2, XZR, #6   // store 6 to X2
108: ADDI X1, X1, #5    // X1 += 5
112: SUBI X2, X2, #1    // X2 -= 1
116: CBZ X2, #-2        // if X2 is 0, go to 116+(-8)=108, otherwise go to 120
120: ...
</div></code></code></pre>
<h4 id="memory-access">memory access</h4>
<ul>
<li>32 registers are not enough to store data</li>
<li>they are special arm instructions to access 2^64 byte RAM</li>
<li><code>M</code> is data memory</li>
<li><code>100: LDUR X1, [X2,#100]</code> read from <code>M[100+X2]</code> store in X1</li>
<li><code>100: STUR X1, [X2,#100]</code> write X1 value to <code>M[100+X2]</code></li>
<li>all addresses are multiple of 8</li>
</ul>
<p><strong>eg.</strong></p>
<pre><code class="language-asm"><code><div>// f = (g + h) - (i + j)

// assume X10 contains the start address in mem of the data value f, and
// g, h, i, j are consecutive. each variable is 64-bit integer
LDUR X2, [X10, #8]  // g into X2
LDUR X3, [X10, #16] // h into X3
LDUR X4, [X10, #24] // i into X4
LDUR X5, [X10, #32] // j into X5

ADD X6, X2, X3
ADD X7, X4, X5
SUB X1, X6, X7

STUR X1, [X10, #0]  // X1 into f
</div></code></code></pre>
<p><strong>eg.</strong> read data located in mem at address 240, take data and write it to register 7</p>
<pre><code><code><div>LDUR X7, [X31, #240]
</div></code></code></pre>
<h1 id="week-2-may-18">Week 2. May 18</h1>
<h2 id="logic-blocks">logic blocks</h2>
<ul>
<li>combinations: without memory</li>
<li>sequential: with memory</li>
<li>inputs and outputs are 1/0 (high/low voltage, true/false)</li>
</ul>
<p>review electricity:
<code>V = IR</code></p>
<h2 id="digitizing">digitizing</h2>
<h3 id="discrete-signal">discrete signal</h3>
<pre><code><code><div>value
+
|  1
+-------+         +----------+
|       |         |          |
|       |         |          |
|       |   0     |          |
|       +---------+          +-----------+
|
+----------------------------------------+
                                   time
</div></code></code></pre>
<ul>
<li>only high (1) or low (2)</li>
<li>DC: direct current flows in one direction through a circuit</li>
<li>in reality, the transformation from hi to lo could lead to intermediate values, which need to be designed out</li>
</ul>
<pre><code><code><div> A    +--------+
+---&gt; |        |   F
 B    |        +--------&gt;
+---&gt; |        |
 C    |        |
+---&gt; +--------+

</div></code></code></pre>
<ul>
<li>call these digital circuits, with inputs/outputs that can take only 1 of two possible values 0, 1</li>
<li>we analyze the 'work' or 'function' of a circuit based on the output it is generating. the output depend on inputs</li>
<li>First: circuit analysis via truth tables</li>
<li>second: look at how exactly a binary 0 and 1 are represented</li>
</ul>
<h3 id="specifying-inputoutput-behaviors">specifying input/output behaviors</h3>
<h4 id="truth-tables">truth tables</h4>
<p>OR, AND, NOT, NOR, NAND, XOR:</p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">A+B</th>
<th style="text-align:center">AB</th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A+B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>B</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{AB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center">A^B</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p><strong>eg.</strong> conclude a formula from a truth table ((A,B,C)-&gt;F)<br>
look at F's that have 1, use the product of A,B,C,~A,~B,~C to assemble 1</p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">C</th>
<th style="text-align:center">F</th>
<th style="text-align:center"></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi></mrow><annotation encoding="application/x-tex">\overline{A}\cdot\overline{B}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi></mrow><annotation encoding="application/x-tex">A\overline{B}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">ABC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
<th style="text-align:center"></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi><mo>+</mo><mi>A</mi><mi>B</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\overline{A}\cdot\overline{B}C+A\overline{B}C+ABC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p>(empty cells are 0)<br>
we can say the formula that represents blackbox (A,B,C)-&gt;F is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi><mo>+</mo><mi>A</mi><mi>B</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\overline{A}\cdot\overline{B}C+A\overline{B}C+ABC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>.</p>
<h4 id="dont-cares-in-truth-tables">don't cares in truth tables</h4>
<ul>
<li>those represented as X instead of 0/1</li>
<li>when used in output, indicates that we don't care the output for that input</li>
<li>when used in input, indicates outputs are valid for all inputs created by replacing X by either 0 or 1</li>
</ul>
<p><strong>eg.</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">C</th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">...</td>
<td style="text-align:center">...</td>
<td style="text-align:center">...</td>
<td style="text-align:center">...</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><strong>1</strong></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
</tr>
</tbody>
</table>
<p>simplified:</p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">C</th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">...</td>
<td style="text-align:center">...</td>
<td style="text-align:center">...</td>
<td style="text-align:center">...</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">X</td>
<td style="text-align:center"><strong>1</strong></td>
</tr>
</tbody>
</table>
<p><strong>eg.</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">C</th>
<th style="text-align:center">F</th>
<th style="text-align:center"></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi></mrow><annotation encoding="application/x-tex">\overline{A}\cdot\overline{B}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">AC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
<th style="text-align:center"></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover><mi>C</mi><mo>+</mo><mi>A</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\overline{A}\cdot\overline{B}C+AC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">X</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">X</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">X</td>
<td style="text-align:center">1</td>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<h4 id="laws-of-boolean-algebra">laws of boolean algebra</h4>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><mo stretchy="true">‾</mo></mover><mo>=</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">\overline{\overline{X}}=X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span><span style="top:-4.00333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mn>0</mn><mo>=</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">X+0=X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>⋅</mo><mn>1</mn><mo>=</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">X\cdot1=X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left">identity</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mn>1</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">X+1=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>⋅</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">X\cdot 0=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></td>
<td style="text-align:left">zero/one</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mi>X</mi><mo>=</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">X+X=X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mi>X</mi><mo>=</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">XX=X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left">absorption</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">X+\overline{X}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">X\overline{X}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></td>
<td style="text-align:left">inverse</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mi>Y</mi><mo>=</mo><mi>Y</mi><mo>+</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">X+Y=Y+X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mi>Y</mi><mo>=</mo><mi>Y</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">XY=YX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td style="text-align:left">commutative</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mo stretchy="false">(</mo><mi>Y</mi><mo>+</mo><mi>Z</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>+</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X+(Y+Z)=(X+Y)+Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo stretchy="false">(</mo><mi>Y</mi><mi>Z</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">)</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X(YZ)=(XY)Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span></span></td>
<td style="text-align:left">associative</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>+</mo><mi>Z</mi><mo stretchy="false">)</mo><mo>=</mo><mi>X</mi><mi>Y</mi><mo>+</mo><mi>X</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">X(Y+Z)=XY+XZ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mi>Y</mi><mi>Z</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X+YZ=(X+Y)(X+Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span></span></span></span></td>
<td style="text-align:left">distributive</td>
</tr>
<tr>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>X</mi><mo>+</mo><mi>Y</mi></mrow><mo stretchy="true">‾</mo></mover><mo>=</mo><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>Y</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{X+Y}=\overline{X}\cdot\overline{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>X</mi><mi>Y</mi></mrow><mo stretchy="true">‾</mo></mover><mo>=</mo><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><mo>+</mo><mover accent="true"><mi>Y</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{XY}=\overline{X}+\overline{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:left">DM</td>
</tr>
</tbody>
</table>
<p><strong>eg.</strong> simplify a formula</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>F</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mi>Z</mi><mo>+</mo><mi>X</mi><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mi>Z</mi><mo>+</mo><mi>X</mi><mi>Y</mi><mover accent="true"><mi>Z</mi><mo>ˉ</mo></mover><mo>+</mo><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mi>Z</mi><mo stretchy="false">(</mo><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover><mo>+</mo><mi>X</mi><mo stretchy="false">)</mo><mo>+</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">(</mo><mover accent="true"><mi>Z</mi><mo>ˉ</mo></mover><mo>+</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mi>Z</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mi>Z</mi><mo>+</mo><mi>X</mi><mi>Y</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
F &amp;=\bar{X} \bar{Y} Z+X \bar{Y} Z+X Y \bar{Z}+X Y Z \\
&amp;=\bar{Y} Z(\bar{X}+X)+X Y(\bar{Z}+Z) \\
&amp;=\bar{Y} Z(1)+X Y(1) \\
&amp;=\bar{Y}Z+XY
\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6em;vertical-align:-2.7500000000000004em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-2.4099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-0.9099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span></span></span><span style="top:-2.4099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-0.9099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>q2: C</p>
<h3 id="gates">gates</h3>
<p><img src="assets/w2_1.PNG" alt="img"></p>
<p><img src="assets/w2_2.PNG" alt="img"></p>
<ul>
<li>2-input AND, 2-input OR, 1-input Invertoer</li>
<li>each input is <em>one bit</em> wide</li>
<li>NOT operator often drawn as &quot;bubble&quot; on input or output</li>
</ul>
<p><strong>eg.</strong><br>
nice clean circuit: straight lines<br>
<img src="assets/w2_3.PNG" alt="img"></p>
<p>we have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">F</mi><mo>=</mo><mi mathvariant="normal">X</mi><mover accent="true"><mi mathvariant="normal">Y</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi mathvariant="normal">Z</mi><mo stretchy="true">‾</mo></mover><mo>+</mo><mrow><mi mathvariant="normal">X</mi><mi mathvariant="normal">Y</mi></mrow><mover accent="true"><mi mathvariant="normal">Z</mi><mo stretchy="true">‾</mo></mover><mo>+</mo><mover accent="true"><mi mathvariant="normal">X</mi><mo stretchy="true">‾</mo></mover><mrow><mi mathvariant="normal">Y</mi><mi mathvariant="normal">Z</mi></mrow></mrow><annotation encoding="application/x-tex">\mathrm{F}=\mathrm{X} \overline{\mathrm{Y}}\cdot \overline{\mathrm{Z}}+\mathrm{XY} \overline{\mathrm{Z}}+\overline{\mathrm{X}} \mathrm{YZ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">F</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">X</span></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Z</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathrm">X</span><span class="mord mathrm" style="margin-right:0.025em;">Y</span></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">Z</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">X</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord"><span class="mord mathrm" style="margin-right:0.025em;">Y</span><span class="mord mathrm">Z</span></span></span></span></span></p>
<p><strong>eg.</strong> deriving truth table from circuit</p>
<ul>
<li>first label all intermediate values (A,B,C)</li>
<li>A is OR gate, with two inputs (X,Y) negated.</li>
<li>B is NAND gate, with two inputs (X,A)</li>
<li>C is NAND gate, with two inputs (Y,A)</li>
<li>F is OR gate, with two inputs (B,C) negated</li>
</ul>
<p><img src="assets/w2_4.PNG" alt="xor"></p>
<table>
<thead>
<tr>
<th style="text-align:center">X</th>
<th style="text-align:center">Y</th>
<th style="text-align:center"></th>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">C</th>
<th style="text-align:center"></th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<h2 id="transistors">transistors</h2>
<h3 id="implementing-gates-with-transistors">implementing gates with transistors</h3>
<ul>
<li>transistor: an electrically-controlled switch<br>
<img src="assets/w2_5.PNG" alt="img"></li>
<li>NMOS transistor (n-transistor):<br>
<img src="assets/w2_6.PNG" alt="img"></li>
<li>by control the voltage of gate, source, drain, we can control the current flow</li>
</ul>
<p><strong>eg.</strong><br>
<img src="assets/w2_7.PNG" alt="img"></p>
<ul>
<li>assume a voltage 5V at drain</li>
<li>current <em>wants to flow from Drain to Source</em> (ground in this eg)</li>
<li>Gates acts as a barrier to this current</li>
<li>by increasing the voltage at gate, the barrier is removed and current flows</li>
<li>can model transistors as resistance
<ul>
<li>high Vgate: low resistance -&gt; current flows</li>
<li>low Vgate: high resistance -&gt; no current</li>
</ul>
</li>
<li><strong>rule</strong>: if there is direct path way from power to ground, then F is low</li>
</ul>
<h4 id="nmos-as-not-gate">NMOS as Not gate</h4>
<p><img src="assets/w2_8.PNG" alt="img"></p>
<table>
<thead>
<tr>
<th style="text-align:center">input</th>
<th style="text-align:center">resistance Q1</th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">high</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">low</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<ul>
<li>arrow out from gate toward source</li>
<li>VDD is power source, G is gate, S is source (ground), F is output</li>
<li>A is low -&gt; gate low voltage -&gt; high resistance Q1 -&gt; F is connected to VDD -&gt; F is high
<ul>
<li>current is blocked to ground, so all of it goes to F</li>
</ul>
</li>
<li>A is high -&gt; gate high voltage -&gt; low resistance Q1 -&gt; F is connected to ground -&gt; F is low
<ul>
<li>current is not blocked, so it can go to ground, a little (0.8V) current goes to F</li>
</ul>
</li>
<li>in real world, there is a resistor between power and drain to prevent burning out</li>
</ul>
<h4 id="pmos">PMOS</h4>
<p><img src="assets/w2_9.PNG" alt="img"></p>
<table>
<thead>
<tr>
<th style="text-align:center">input</th>
<th style="text-align:center">resistance Q1</th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">low</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">high</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<ul>
<li>reverse of NMOS</li>
<li>arrow towards gate out from VDD</li>
</ul>
<p>A=1 is 5V, A=0 is 0.8V.</p>
<ul>
<li>NMOS is not perfect, it transmits strong 0, but weak 1 (like 4V)</li>
<li>PMOS transmits strong 1, but weak 0</li>
</ul>
<h4 id="cmos-complementary-mos-transistor">CMOS (complementary MOS transistor)</h4>
<p><img src="assets/w2_10.PNG" alt="img"></p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">Q1</th>
<th style="text-align:center">Q2</th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">low</td>
<td style="text-align:center">high</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">high</td>
<td style="text-align:center">low</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<ul>
<li>CMOS uses both NMOS and PMOS (circle means PMOS), NMOS grounded, PMOS at power</li>
<li>Qs are inner resistances of each transistor</li>
<li>no bad flow of current (short circuit)</li>
<li>no weak transmissions</li>
<li>when A is 0, Q2 blocks current to the ground so it goes to F</li>
<li>when A is 1, Q2 is &quot;ON&quot;, the internal current will be enough to feed ground</li>
</ul>
<p><strong>eg.</strong> what will the signal be at B?<br>
the only way B is 0 is both Q1,Q2 are low, which is not possible in the configuration. so B is always 1.<br>
in other cases B and F are in parallel, so voltages are equal</p>
<p><strong>eg.</strong> what will the signal be at C?<br>
C is always 0 because it is always grounded.</p>
<h4 id="cmos-nand">CMOS NAND</h4>
<p><img src="assets/w2_11.PNG" alt="img"></p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">Q1</th>
<th style="text-align:center">Q2</th>
<th style="text-align:center">Q3</th>
<th style="text-align:center">Q4</th>
<th style="text-align:center">Z</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">low</td>
<td style="text-align:center">low</td>
<td style="text-align:center">high</td>
<td style="text-align:center">high</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">low</td>
<td style="text-align:center">high</td>
<td style="text-align:center">low</td>
<td style="text-align:center">high</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">high</td>
<td style="text-align:center">low</td>
<td style="text-align:center">low</td>
<td style="text-align:center">high</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">high</td>
<td style="text-align:center">high</td>
<td style="text-align:center">low</td>
<td style="text-align:center">low</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">h</td>
<td style="text-align:center">h</td>
<td style="text-align:center">h</td>
<td style="text-align:center">h</td>
<td style="text-align:center">float</td>
<td style="text-align:center">bad state</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">l</td>
<td style="text-align:center">l</td>
<td style="text-align:center">l</td>
<td style="text-align:center">l</td>
<td style="text-align:center">short circuit</td>
<td style="text-align:center">bad state</td>
</tr>
</tbody>
</table>
<ul>
<li>NAND uses 4 transistors</li>
<li>Q3 and Q4 are in series, if one of them has high Q, then power-&gt;ground is blocked</li>
<li>if Q3 and Q4 are both low, they are &quot;ON&quot;, generating enough current to feed ground</li>
</ul>
<p><strong>eg.</strong> which resistances must be low to have a short circuit?<br>
one of Q1,Q2, both of Q3,Q4</p>
<p><strong>eg.</strong> which resistances must be high to have a float<br>
both of Q1,Q2, one of Q3,Q4</p>
<h4 id="2-input-and">2-input AND</h4>
<p><img src="assets/w2_12.PNG" alt="img"></p>
<ul>
<li>add one NOT gate</li>
<li>uses 2 more transistors</li>
</ul>
<h4 id="3-input-nand">3-input NAND</h4>
<p><img src="assets/w2_13.PNG" alt="img"></p>
<h1 id="week-3-may-25">Week 3. May 25</h1>
<h2 id="decoders">decoders</h2>
<ul>
<li>translate the n-bit input into a signal that corresponds to the binary value of the n-bit input</li>
<li><strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> inputs map to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> outputs possible</strong></li>
<li>only one input is high for each input combination</li>
</ul>
<p><strong>eg.</strong> 3-to-8 (or 3-bit) decoder</p>
<table>
<thead>
<tr>
<th style="text-align:center">dec</th>
<th style="text-align:center"></th>
<th style="text-align:center">A2</th>
<th style="text-align:center">A1</th>
<th style="text-align:center">A0</th>
<th style="text-align:center"></th>
<th style="text-align:center">D7</th>
<th style="text-align:center">D6</th>
<th style="text-align:center">D5</th>
<th style="text-align:center">D4</th>
<th style="text-align:center">D3</th>
<th style="text-align:center">D2</th>
<th style="text-align:center">D1</th>
<th style="text-align:center">D0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center"></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center"></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center"></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center"></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center"></td>
<td style="text-align:center"><em>1</em></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p>we can draw the decoder using symbol<br>
<img src="assets/w3_1.PNG" alt="img"></p>
<p>implementation using only AND gates<br>
<img src="assets/w3_2.PNG" alt="img"></p>
<ul>
<li>used three switches to respond to 8 outputs</li>
</ul>
<h3 id="memory-expansion">memory expansion</h3>
<h2 id="multiplexer">multiplexer</h2>
<ul>
<li>also called a selector</li>
<li><em>choose one input from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> inputs and reflect it on the output</em></li>
<li>input: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> lines (D0,...,D2n-1), <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> select lines (Sn-1,...,S0)</li>
<li>output: one single output based on one source of input data</li>
</ul>
<p>q1 2</p>
<p><strong>eg.</strong> 4-1 multiplexer<br>
<img src="assets/w3_4.PNG" alt="img"></p>
<ul>
<li>there are 4 lines to select from D0,D1,D2,D3</li>
<li>there are 2 select lines S0,S1</li>
<li>if S0,S1 are both 0, then 00 means zero, first line is selected</li>
<li>note S0 is always the lower order bit</li>
</ul>
<p>implementation:<br>
<img src="assets/w3_7.PNG" alt="img"></p>
<p>or</p>
<p><img src="assets/w3_5.PNG" alt="img"></p>
<ul>
<li>if S0,S1 are both 0, then only the first gate has both 1, all other three are short circuit. the result of Y is decided by D0.</li>
</ul>
<p><strong>eg.</strong> realize truth table using one mux</p>
<pre><code><code><div>         X---X
       +X     X
       |X     X
       |      +             X  Y  Z |F
 Z +---+D0    |             0  0  0 |0
       |      |             0  0  1 |1
       |      |             0  1  0 |0
 0 +---+D1    |             0  1  1 |0
       |      +------+F     1  0  1 |0
       |      |             1  0  0 |1
~Z +---+D2    |             1  1  0 |1
       |      |             1  1  1 |1
       |      |
 1 +---+D3    |
       |      X        (when X=Y=0, F is decided
       +X     X         by D0, we see Z behaves
        X ---X          the same as F...)
         +   +          when X=0,Y=1,...
         |   |
         +   +
        S1   S0
         X   Y
</div></code></code></pre>
<h3 id="array">array</h3>
<p><img src="assets/w3_6.PNG" alt="img"></p>
<ul>
<li>slash notation is used to indicate lines carrying multiple bits, implying parallel constructions</li>
<li>externally looks like 1 mux that takes 2 inputs and select 1</li>
<li>note <em>only one</em> bit is needed to selected between A and B in this eg</li>
<li>output bits C0,...,C63 combine to result in C</li>
</ul>
<p>q1 d</p>
<h2 id="clocks-and-sequential-circuits">clocks and sequential circuits</h2>
<ul>
<li>two types: synchronous (has a clock memory changes only at discrete points of time)</li>
<li>asynchronous: no clock potentially faster and less power-hungary</li>
<li>clocks: controlled input signal into the system</li>
<li>clock is high = 1, clock is low = 0</li>
<li>from one rising edge the next rising edge is a cycle</li>
</ul>
<pre><code><code><div>   rise       fall        1
      +-------+       +-------+
      |       |       |       |   0
+-----+       +-------+       +------+

      &lt;---------------&gt;
         clock cycle
</div></code></code></pre>
<h2 id="sr-latch">SR latch</h2>
<ul>
<li>simplest block of memory</li>
<li>a block to store a binary 0 or 1</li>
<li><strong>Set</strong> means set Q to 1</li>
<li><strong>Reset</strong> means set Q to 0</li>
<li>is not clocked</li>
</ul>
<p><img src="assets/w3_8.PNG" alt="img"></p>
<ul>
<li>unclocked memory bit: 1 bit recycles through gates</li>
</ul>
<p><strong>latch store S=0, R=0</strong>. for any previous value (Q, ~Q), the outputs (Q, ~Q) don't change</p>
<p><strong>latch set S=1, R=0</strong>. output becomes (Q, ~Q) = (1, 0)</p>
<p><strong>latch reset S=0, R=1</strong>. output becomes (Q, ~Q) = (0, 1)</p>
<p>once set or reset completes, the system will return to steady state S=0, R=0. so new value stored.</p>
<p><strong>latch oscillate S=1, R=1</strong>. undesirable behavior. should be avoided.</p>
<ul>
<li>when S=R=1, the output becomes (Q, ~Q) = (0, 0)</li>
<li>but if then change to S=R=0, the output becomes (1, 1) and then to (0, 0), ...</li>
</ul>
<h2 id="d-latch">D-latch</h2>
<ul>
<li>add a clock pulse</li>
<li>use one single input source D</li>
<li>controls the inputs to the S and R such that they can never both be 1</li>
</ul>
<p><img src="assets/w3_9.PNG" alt="img"></p>
<table>
<thead>
<tr>
<th style="text-align:center">C</th>
<th style="text-align:center">D</th>
<th style="text-align:center">next state of Q</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">x</td>
<td style="text-align:center">no change</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">Q=0 (reset)</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Q=1 (set)</td>
</tr>
</tbody>
</table>
<p><img src="assets/w3_10.PNG" alt="img"></p>
<ul>
<li>only can set/reset when clock is 1, otherwise Q stays same (red, 1st and 2nd vertical line)</li>
<li>drawback: any change in D during high clock pulse will be reflected in Q (green), no longer uniform (discrete point in time)</li>
<li>22 transistors needed in a d-latch (2+6+6+4+4)</li>
</ul>
<h2 id="d-flip-flop">D Flip-Flop</h2>
<ul>
<li>state only to be affected at discrete points in time</li>
<li>master (left) slave (right) design</li>
<li>QE related to original clock: <em>update occurs on falling edge of clock pulse only</em></li>
</ul>
<p><img src="assets/w3_11.PNG" alt="img"></p>
<p><img src="assets/w3_12.PNG" alt="img"></p>
<ul>
<li>d flip flops used for each bit of each register in the register file</li>
<li>64-bit register needs 64 d-flip flops</li>
<li>useful for small memory eg RF ^</li>
</ul>
<h1 id="week-4-june-1">Week 4. June 1</h1>
<h2 id="register-file">register file</h2>
<p>register: an array of flip-flops</p>
<ul>
<li>stuff is computed during a clock cycle, after it finishes stuff is written on the falling edge of a clock cycle</li>
</ul>
<p>register file: a way to organize registers</p>
<ul>
<li>max number of registers to read from is 2 (<code>add x1,x2,x3</code>) (two 5bit numbers to specify because we have 31 registers)</li>
<li>number of registers to write to is 1 (one 5bit number to specify)</li>
</ul>
<pre><code><code><div>   5bit +---------------------------------+
+-------&gt; read                  read data |   64bit
        | register #1           output #1 +---------&gt;
   5    |                                 |
+-------&gt; read                            |
        | register #2                     |
   5    |                                 |
+-------&gt; write                           |
        | register #                      |
   64   |                       read data |   64
+-------&gt; write                 output #2 +---------&gt;
        | data                            |
        |            write                |
        +--------------^------------------+
                       |control bit
                       |
                       +
</div></code></code></pre>
<p>control bit is 1 if one wants to write stuff (<code>add</code>, <code>ldur</code>), it is 0 if not (<code>b</code>, <code>cbz</code>).</p>
<h3 id="write-operation">write operation</h3>
<p><img src="assets/w4_1.PNG" alt="img"></p>
<ul>
<li>data goes to every register (D) even not all register gets modified</li>
<li>the write (control) bit and the output of the decoder decides whether register is enabled, which one is enabled</li>
<li>control bit (C) is only true for one register being chosen</li>
<li>clock is external, not in diagram!</li>
</ul>
<p>note the number of register does not depend on architecture.</p>
<p><strong>eg.</strong> 64bit architecture, 16 register in total. then</p>
<ul>
<li>each reg still stores 64 bits</li>
<li>64 bits of write data are provided</li>
<li>1 bit is for the write bit.</li>
</ul>
<p>the only difference is the size of decoder (input/output).</p>
<h3 id="read-operation">read operation</h3>
<p>we read two registers in parallel.</p>
<p><img src="assets/w4_2.PNG" alt="img"></p>
<ul>
<li>throw out all the contents of registers, and fed them into two muxes</li>
<li>the select line (5bits), which are the bits to specify regs, chooses one data to output</li>
<li>(note that the two big muxes are actually series of 32x1 1bit muxes)</li>
</ul>
<p>we never do both read and write at the same time</p>
<h2 id="finite-state-machine-moore">finite state machine (Moore)</h2>
<p><strong>eg.</strong> traffic lights</p>
<pre><code><code><div>         +  N  +
         |     |
         |     |
         +-----+
 NS light+-----+
+--------+     +-------+
                ||
W               ||     S
                ||
+--------+     +-------+
         |     |SW light
         |     |
         |     |
         +  S  +
</div></code></code></pre>
<ul>
<li>NSlight, EWlight are states of the two traffic lights</li>
<li>state is one of red, green</li>
<li>EWcar means there are cars detected in east-west direction
<ul>
<li>then EW light is green (EWgreen)</li>
</ul>
</li>
<li>NScar means there are cars in north-south direction
<ul>
<li>then NS light is green (NSgreen)</li>
</ul>
</li>
</ul>
<p><img src="assets/w4_3.PNG" alt="img"></p>
<p>one bit is used to indicate green/red.</p>
<ul>
<li>names of states outside ovals (NSgreen, EWgreen)</li>
<li>output in given state inside oval</li>
<li>transition arc labelled with boolean formula of inputs (bar indicates not)</li>
<li>must stay in one state for at least one clock cycle</li>
</ul>
<p><strong>eg.</strong> extend the traffic light to handle yellow light</p>
<ul>
<li>g means green, r means red, y means yellow</li>
<li>TS indicates whether 28 secs have passed (as input) (green must stay over 28 secs)
<ul>
<li>so 28 is multiple of one clock cycle</li>
</ul>
</li>
<li>TR bit means to reset the above counter (as output)</li>
</ul>
<p><img src="assets/w4_4.PNG" alt="img"></p>
<p>state transition table:</p>
<table>
<thead>
<tr>
<th style="text-align:center">current state</th>
<th style="text-align:center">inputs</th>
<th style="text-align:center">next state</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">S2 S1 S0</td>
<td style="text-align:center">NScar EWcar TS</td>
<td style="text-align:center">S2' S1' S0'</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">000</td>
<td style="text-align:center">XX0</td>
<td style="text-align:center">000</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">000</td>
<td style="text-align:center">XX1</td>
<td style="text-align:center">001</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">X0X</td>
<td style="text-align:center">001</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">X1X</td>
<td style="text-align:center">010</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">010</td>
<td style="text-align:center">XXX</td>
<td style="text-align:center">100</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">011</td>
<td style="text-align:center">XXX</td>
<td style="text-align:center">XXX</td>
<td style="text-align:center">don't care</td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">XX0</td>
<td style="text-align:center">100</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">XX1</td>
<td style="text-align:center">101</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">101</td>
<td style="text-align:center">0XX</td>
<td style="text-align:center">101</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">101</td>
<td style="text-align:center">1XX</td>
<td style="text-align:center">110</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">110</td>
<td style="text-align:center">XXX</td>
<td style="text-align:center">000</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">111</td>
<td style="text-align:center">XXX</td>
<td style="text-align:center">XXX</td>
<td style="text-align:center">don't care</td>
</tr>
</tbody>
</table>
<ul>
<li>X bit means don't care</li>
<li>011 and 111 never happen</li>
</ul>
<p>use the min terms (output bit to be 1), we can conclude formula for each bit</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>=</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mi>T</mi><mi>S</mi><mo>+</mo><mover accent="true"><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>S</mi><mn>0</mn></msub><mo>⋅</mo><mover accent="true"><mrow><mi>E</mi><mi>W</mi><mi>c</mi><mi>a</mi><mi>r</mi></mrow><mo stretchy="true">‾</mo></mover><mo>+</mo><msub><mi>S</mi><mn>2</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>S</mi><mn>0</mn></msub><mo>⋅</mo><mover accent="true"><mrow><mi>N</mi><mi>S</mi><mi>c</mi><mi>a</mi><mi>r</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">S_0&#x27;=\overline{S_1}\cdot\overline{S_0}\cdot TS+\overline{S_2}\cdot\overline{S_1}\cdot S_0\cdot \overline{EWcar}+S_2\cdot\overline{S_1}\cdot S_0\cdot\overline{NScar}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mn>1</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>=</mo><mover accent="true"><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>S</mi><mn>0</mn></msub><mo>⋅</mo><mi>E</mi><mi>W</mi><mi>c</mi><mi>a</mi><mi>r</mi><mo>+</mo><msub><mi>S</mi><mn>2</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>S</mi><mn>0</mn></msub><mo>⋅</mo><mi>N</mi><mi>S</mi><mi>c</mi><mi>a</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">S_1&#x27;=\overline{S_2}\cdot\overline{S_1}\cdot S_0\cdot EWcar+S_2\cdot\overline{S_1}\cdot S_0\cdot NScar</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mn>2</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>=</mo><mover accent="true"><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>S</mi><mn>1</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover><mo>+</mo><msub><mi>S</mi><mn>2</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">S_2&#x27;=\overline{S_2}\cdot S_1\cdot\overline{S_0}+S_2\cdot\overline{S_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
</ul>
<p>output table:</p>
<ul>
<li>only care about current state and its corresponding output</li>
<li>(output is not related to input)</li>
<li>if bit is present, it is 1</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">S2 S1 S0</th>
<th style="text-align:center">NSg NSy NSr EWg EWy EWr TR</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">000</td>
<td style="text-align:center">1000010</td>
<td style="text-align:center">NSg,EWr</td>
</tr>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">1000010</td>
<td style="text-align:center">NSg,EWr</td>
</tr>
<tr>
<td style="text-align:center">010</td>
<td style="text-align:center">0100011</td>
<td style="text-align:center">NSy,EWr,TR</td>
</tr>
<tr>
<td style="text-align:center">011</td>
<td style="text-align:center">XXXXXXX</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">0011000</td>
<td style="text-align:center">NSr,EWg</td>
</tr>
<tr>
<td style="text-align:center">101</td>
<td style="text-align:center">0011000</td>
<td style="text-align:center">NSr,EWg</td>
</tr>
<tr>
<td style="text-align:center">110</td>
<td style="text-align:center">0010101</td>
<td style="text-align:center">NSr,EWy,TR</td>
</tr>
<tr>
<td style="text-align:center">111</td>
<td style="text-align:center">XXXXXXX</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>S</mi><mi>g</mi><mo>=</mo><mover accent="true"><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">NSg=\overline{S_2}\cdot\overline{S_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>W</mi><mi>g</mi><mo>=</mo><msub><mi>S</mi><mn>2</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">EWg=S_2\cdot\overline{S_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>S</mi><mi>y</mi><mo>=</mo><mover accent="true"><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>S</mi><mn>1</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">NSy=\overline{S_2}\cdot S_1\cdot\overline{S_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>W</mi><mi>y</mi><mo>=</mo><msub><mi>S</mi><mn>2</mn></msub><mo>⋅</mo><msub><mi>S</mi><mn>1</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">EWy=S_2\cdot S_1\cdot\overline{S_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>S</mi><mi>r</mi><mo>=</mo><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">NSr=S_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>W</mi><mi>r</mi><mo>=</mo><mover accent="true"><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">EWr=\overline{S_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>R</mi><mo>=</mo><msub><mi>S</mi><mn>1</mn></msub><mo>⋅</mo><mover accent="true"><msub><mi>S</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">TR=S_1\cdot\overline{S_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.03333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></li>
</ul>
<p><strong>eg.</strong> can draw a circuit for one state and one output of them</p>
<p><img src="assets/w4_5.PNG" alt="img"></p>
<p>(triangle means clocked)</p>
<h1 id="week-5-june-8">Week 5. June 8</h1>
<p>armv8 word:</p>
<ul>
<li>1 byte = 8 bits; 4 bytes = 1 word; 8 bytes = 1 dword</li>
<li>bits numbered 63,62,...,0</li>
<li>MSB is 63, LSB is 0</li>
</ul>
<h2 id="ascii">ASCII</h2>
<p>...</p>
<ul>
<li>7 bits for character code, 1 leftmost bit for checking</li>
<li>leading 1 -&gt; even number of 1's in the rest 7 bits eg <code>1 0011011</code></li>
<li>leading 0 -&gt; odd</li>
</ul>
<h2 id="unsigned-and-signed-binary-numbers">unsigned and signed binary numbers</h2>
<p>see cs241 note</p>
<p><strong>eg.</strong> with 4 bits, <code>1110</code> is -6. what's this number with 8 bits?<br>
copy old MSB to the new positions, answer is <code>1111 1110</code>.</p>
<h2 id="logic-operations">logic operations</h2>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">1101</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">arithmetic shift right</td>
<td style="text-align:center">1110</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">logical shift right</td>
<td style="text-align:center">0110</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">shift left</td>
<td style="text-align:center">1010</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">circular shift right</td>
<td style="text-align:center">1110</td>
<td style="text-align:center">use overflown bit for void space</td>
</tr>
<tr>
<td style="text-align:center">circular shift left</td>
<td style="text-align:center">1011</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">bitwise and, or, xor, nor</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h2 id="full-adder">full adder</h2>
<ul>
<li>basic building block of addition circuit</li>
</ul>
<p><img src="assets/w5_1.PNG" alt="img"></p>
<table>
<thead>
<tr>
<th style="text-align:center">A</th>
<th style="text-align:center">B</th>
<th style="text-align:center">CarryIn</th>
<th style="text-align:center"></th>
<th style="text-align:center">CarryOut</th>
<th style="text-align:center">Sum</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mi>A</mi><mtext> xor </mtext><mi>B</mi><mtext> xor </mtext><msub><mi>C</mi><mtext>in</mtext></msub></mrow><annotation encoding="application/x-tex">S=A \text{ xor } B\text{ xor }C_\text{in}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord text"><span class="mord"> xor </span></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord text"><span class="mord"> xor </span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mtext>out</mtext></msub><mo>=</mo><mi>A</mi><mi>B</mi><mo>+</mo><mi>A</mi><msub><mi>C</mi><mtext>in</mtext></msub><mo>+</mo><mi>B</mi><msub><mi>C</mi><mtext>in</mtext></msub></mrow><annotation encoding="application/x-tex">C_\text{out}=AB+AC_{\text{in}}+BC_\text{in}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">out</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
</ul>
<h3 id="4-bit-ripple-carry-adder">4-bit ripple-carry adder</h3>
<p><img src="assets/w5_2.PNG" alt="img"></p>
<ul>
<li>connect carries</li>
<li>S3S2S1S0 is the output</li>
<li>drawback: slow, &quot;carry-lookahead&quot; idea can be used</li>
</ul>
<h2 id="arithmetic-logic-unit">arithmetic logic unit</h2>
<h3 id="1-bit-alu">1-bit ALU</h3>
<ul>
<li>extends functionality of full adder</li>
<li>input is 1 bit</li>
<li>can compute AND, OR and add</li>
</ul>
<p><img src="assets/w5_3.PNG" alt="img"></p>
<p>operation is the input to the mux (0,1,2,3)</p>
<table>
<thead>
<tr>
<th style="text-align:center">ALU operation</th>
<th style="text-align:center">function</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Ainv Binv Op1 Op0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0000</td>
<td style="text-align:center">AND</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0001</td>
<td style="text-align:center">OR</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0010</td>
<td style="text-align:center">add</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0110</td>
<td style="text-align:center">sub</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">1100</td>
<td style="text-align:center">NOR</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0011</td>
<td style="text-align:center">Pass</td>
<td style="text-align:center">result=B</td>
</tr>
</tbody>
</table>
<p><strong>note</strong> Binv is connected to the first CarryIn</p>
<p><strong>eg.</strong> to compute subtraction a-b=a+(-b), we invert b, add to a, then add 1.</p>
<p><strong>eg.</strong> to compute A NOR B, we invert both a and b, and perform A AND B. (since <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><mo stretchy="true">‾</mo></mover><mo>=</mo><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A+B}=\overline{A}\cdot\overline{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>)</p>
<p><strong>eg.</strong> it can also do NAND.</p>
<h3 id="64-bit-alu">64-bit ALU</h3>
<ul>
<li>we can chain 64 of these to support 64 bit arithmetic:</li>
<li>given two n bit input, the result is n bit</li>
</ul>
<p><img src="assets/w5_4.PNG" alt="img"></p>
<p><strong>eg.</strong> overflow happens only if A, B have same sign and the result has different sign, iff the final sign bit's CarryIn and CarryOut are different.<br>
if two operands have different sign, the final CarryOut is ignored if there is.</p>
<p>we use the following notation to represent ALU:</p>
<p><img src="assets/w5_5.PNG" alt="img"></p>
<h2 id="multiplication">multiplication</h2>
<ul>
<li>input: two n bit numbers, output: 2n bit number</li>
<li>multiplicand * multiplier = result</li>
</ul>
<p>procedure for doing 64bit multiplication -&gt; result is 128 bit:</p>
<pre><code><code><div>                +-----+
                |start|
                +--+--+
                   |
                   | &lt;--------------------+
                   v                      |
Multiplier0=1 +----+-----+  Multiplier0=0 |
     +------+ |1.test    |-----+          |
     |        |Multiplier0     |          |
     |        +----------+     |          |
     v                         |          |
+----+-------+                 |          |
|1a.add      |                 |          |
|multiplicand|                 |          |
|to product; |                 |          |
|place result|                 |          |
|to Product  +---+         &lt;---+          |
|register    |   |         |              |
+------------+   |         |              |
                 v         v              |
            +----+---------+-----+        |
            |2.shift multiplicand|        |
            |register left 1 bit |        |
            +---------+----------+        |
                      |                   |
            +---------v-----------+       |
            |2.shift multiplier   |       |
            |register right 1 bit |       |
            +--------+------------+       |
                     |                    |
               +-----v-----+              |
               |  64 reps? +--------------+
               |           |   No
               +-----------+
                     |Yes
                     v
                  +--+-+
                  |done|
                  +----+
</div></code></code></pre>
<p>the hardware:<br>
<img src="assets/w5_7.PNG" alt="img"></p>
<h2 id="floating-point-number">floating point number</h2>
<p>to represent a fractional number</p>
<ul>
<li>uses idea of scientific notation: fraction, mantissa, exponent</li>
<li>normalized: single digit to left of decimal point</li>
<li>use 2 as base</li>
<li>eg: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn><msub><mn>1</mn><mn>2</mn></msub><mo>×</mo><msup><mn>2</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">1.01_2\times 2^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span> (normalized binary in scientific notation)</li>
<li>in normalized binary, leading digit of significant is always 1</li>
</ul>
<p><strong>eg.</strong> convert a binary point number to decimal</p>
<pre><code><code><div>10.10101   -&gt; 1*2^1 + 0*2^0 + 1*2^-1 + 0*2^-2 1*2^-3 + +0*2^-4 + 1*2^-5
           -&gt; 2.65625
</div></code></code></pre>
<h3 id="floating-point-registers">Floating Point registers</h3>
<ul>
<li>separate stack of FP</li>
<li>each FP register is 32 bits for single precision. double precision uses 64 bits or 2 consecutive FP registers</li>
</ul>
<h3 id="ieee-754">IEEE 754</h3>
<ul>
<li>arm uses the IEEE 754 floating point standard format</li>
</ul>
<pre><code><code><div>31   30            22                           0
+---+-------------+-----------------------------+
| S |  exponent   |       significand           |
+---+-------------+-----------------------------+
1bit    8bits                23bits
</div></code></code></pre>
<ol>
<li>normalized numbers: always assume there exists a leading 1 in the number (save one bit). the only exception is when the number is 0</li>
<li>biased exponent: x-127 (x is the value in the exponent field)</li>
<li>sign: 1 means negative, 0 means positive</li>
</ol>
<p>interpreted value from the hardware is</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mtext>Sign</mtext></msup><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mtext>significand</mtext><mo stretchy="false">)</mo><mo>×</mo><msup><mn>2</mn><mtext>exponent - bias</mtext></msup></mrow><annotation encoding="application/x-tex">(-1)^\text{Sign}\times(1+\text{significand})\times 2^\text{exponent - bias}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.141331em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">Sign</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">significand</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8991079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">exponent - bias</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>where bias=127 for single precision.</p>
<ul>
<li>exponent is stored in biased notation: so 8 bit exponent field is a positive value. it is easier to</li>
<li>special cases: exponents of 0000 0000 and 1111 1111 are reserved</li>
<li>range of exponents: -126 (0000 0001) to +127 (1111 1110)</li>
</ul>
<p><strong>eg.</strong> i want an exponent of -50: 2^-50. what is my biased 8 bit representation?<br>
77-127=-50 so it is 77.</p>
<p><strong>eg.</strong> i want an exponent of -50: 2^50. what is my biased 8 bit representation?<br>
177-127=50 so it is 177.</p>
<p><strong>eg.</strong> convert 0.625 decimal to binary<br>
multiply fraction by 2 repeatedly:</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.625*2=<em>1</em>.25</td>
<td style="text-align:center">keep 1 as first digit</td>
<td style="text-align:left">0.1</td>
</tr>
<tr>
<td style="text-align:center">0.25*2=<em>0</em>.5</td>
<td style="text-align:center">keep 0 as next digit</td>
<td style="text-align:left">0.10</td>
</tr>
<tr>
<td style="text-align:center">0.5*2=<em>1</em>.0</td>
<td style="text-align:center">keep 1 as next digit</td>
<td style="text-align:left">0.101</td>
</tr>
</tbody>
</table>
<p>rest digit is 0 so it is done. the result is precisely 0.101.</p>
<p><strong>eg.</strong> convert 2.625 to binary<br>
2 is 10 as binary,<br>
.625 is .101 as binary.<br>
so 2.625 is 10.101 * 2^0 as binary.<br>
need to normalize, so it should be 1.0101 * 2^1.<br>
SIGN BIT: 0 (positive)<br>
exponent: x-bias should give 1+127=128<br>
significant bits: 0101<br>
hence answer is 0 10000000 01010000000000000000000.</p>
<p><strong>eg.</strong> convert 0.1 to floating point number</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.1*2=0.2</td>
<td style="text-align:center">keep 0 as first digit</td>
<td style="text-align:left">0.0</td>
</tr>
<tr>
<td style="text-align:center">0.2*2=0.4</td>
<td style="text-align:center">keep 0 as next digit</td>
<td style="text-align:left">0.00</td>
</tr>
<tr>
<td style="text-align:center">0.4*2=0.8</td>
<td style="text-align:center">keep 0 as next digit</td>
<td style="text-align:left">0.000</td>
</tr>
<tr>
<td style="text-align:center">0.8*2=1.6</td>
<td style="text-align:center">keep 1 as next digit</td>
<td style="text-align:left">0.0001</td>
</tr>
<tr>
<td style="text-align:center">0.6*2=1.2</td>
<td style="text-align:center">keep 1 as next digit</td>
<td style="text-align:left">0.00011</td>
</tr>
<tr>
<td style="text-align:center">0.2*2=0.4</td>
<td style="text-align:center">repeat</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p>repeating pattern is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.0</mn><mover accent="true"><mn>0011</mn><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">0.0\overline{0011}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444400000000001em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8444400000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span></span></span><span style="top:-3.76444em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span> which is infinite. have to truncate.</p>
<p><strong>eg.</strong> what is binary reading from 0 01111111 10101000000000000000000<br>
exponent bit is 01111111 -&gt; 127, so real exponent is 127-127=0. the binary number is 1.10101 * 2^0.</p>
<p><strong>eg.</strong> overflow is detected using exponent. 1.010101010101010101010101010101010101010101 * 2^-129 has overflow, but that is determined by &quot;-129&quot; not the precision bits (which are truncated anyways).</p>
<h3 id="addition">addition</h3>
<ul>
<li>decimal example: 9.54*10^2 + 6.83*10^1</li>
<li>match exponents: 9.54*10^2 + 0.683*10^2</li>
<li>add significand with sign: 10.223*10^2</li>
<li>normalize: 1.0223*10^3</li>
<li>check for exponent overflow</li>
<li>round: 1.02*10^3</li>
<li>may have to normalize again</li>
</ul>
<h3 id="multiplication-1">multiplication</h3>
<ul>
<li>decimal example: 9.54*10^2 * 6.83*10^1</li>
<li>add exponents: 2+1=3</li>
<li>multiply significands: 9.54*6.83=65.1582</li>
<li>result: 65.1582*10^3</li>
<li>normalize: 6.51582*10^4</li>
<li>check overflow</li>
<li>round: 6.52*10^4</li>
<li>may have to normalize again</li>
<li>set sign</li>
<li>same for binary number</li>
</ul>
<h1 id="week-6-june-15">Week 6. June 15</h1>
<h2 id="memory-hierarchy">memory hierarchy</h2>
<ul>
<li>processor works with memory that is closest to it
<ul>
<li>register file, instruction &amp; data mem (cache)</li>
<li>instructions and data stored in local caches close to the processor</li>
</ul>
</li>
<li>main levels: caches, main memory (RAM), hard drive (Disk)</li>
</ul>
<pre><code><code><div>+---------------------------------------+   +------+
| +------+ +-----------------+  +-----+ |   |      |
| |      | |                 |  |     | |   | DRAM |
| | SRAM | | REGISTER FILE   |  |SRAM | |   |      |
| |      | |                 |  |     | |   |      | DISK
| |      | |                 |  |     | |   |      |
| |      | |                 |  |     | |   |      |
| |      | |                 |  |     | |   |      |
| +------+ +-----------------+  +-----+ |   |      |
+---------------------------------------+   +------+
</div></code></code></pre>
<h3 id="static-random-access-memory-sram">static random access memory (SRAM)</h3>
<ul>
<li>uses D latches</li>
<li>register file worked for smaller memory and would not scale up (decoders and mux too big). we use three-state buffers to fix mux problems and two-level encoding to fix decoder problem</li>
<li>updates to memory occur in one clock cycle</li>
</ul>
<pre><code><code><div>            21bits
    address +----&gt; +-------------+
                   |             |
                   |             |
chip select +----&gt; |             |
                   |   SRAM      | 16
    output  +----&gt; |   2M x 16   +------&gt;Dout[15-0]
                   |             |
write enable+----&gt; |             |
                   |             |
            16bits |             |
   Din[15-0]+----&gt; +-------------+
</div></code></code></pre>
<p>address is 21 bits and data is 16 bits in this eg.</p>
<h3 id="three-state-buffer">three-state buffer</h3>
<ul>
<li>we have multiple of a bit cell</li>
<li>all data from memory is transmitted back to the process on the same path (transmission bus), so must have the ability of allow an address but block all others</li>
</ul>
<p><img src="assets/w6_2.PNG" alt="img"></p>
<ul>
<li>has three outputs 0, 1, floating (connected to neither power or ground)</li>
<li>uses a PMOS and a NMOS</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">C</th>
<th style="text-align:center">X</th>
<th style="text-align:center">F</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:left">both low resistance, transmit as-is</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:left">both low resistance, transmit as-is</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">x</td>
<td style="text-align:center">-</td>
<td style="text-align:left">both high resistance, both transistors off</td>
</tr>
</tbody>
</table>
<p><strong>eg.</strong> 3-state buffer is depicted by triangle. use them to select a data</p>
<p><img src="assets/w6_3.PNG" alt="img"></p>
<ul>
<li>behaves like mux, but has 4 outputs, 4 select bits</li>
<li>allows multiple inputs to be tied to one source, but one and only one input is allowed to continue as output, or short-circuit.</li>
</ul>
<p><strong>structure of SRAM</strong></p>
<p><img src="assets/w6_4.PNG" alt="img"></p>
<ul>
<li>in this eg, word size is 2 bits (2 columns), there are 4 addresses (word lines)</li>
<li>the &quot;enable&quot; bit is connected to 3-state buffer as c</li>
</ul>
<p>better SRAM uses min 6 transistors / bit, register file 46 transistors / bit.</p>
<h3 id="dynamic-ram-dram">dynamic RAM (DRAM)</h3>
<ul>
<li>SRAM still uses a lot of transistors</li>
<li>use a capacitor to store a charge to represent 1, no charge to represent 0</li>
<li>use 1 capacitor to store data. use 1 transistor to connect to it r/w bit</li>
<li>must refresh charge. refresh is handled a row a time (external controller). fraction of timed to refresh is max 4% or 1-2% of active clock cycles. not heavy penalty.</li>
<li>SDRAM: synchronized DRAM (with external clock)</li>
</ul>
<p><img src="assets/w6_5.PNG" alt="img"></p>
<p>by using two level encoding, we split the address, half go to the decoder to select word, half go to the mux to select a particular bit out of the word.</p>
<p><strong>important:</strong></p>
<ul>
<li>SRAM: expensive but fast. used in caches</li>
<li>DRAM: cheaper but slower. always need to refresh the capacitors. a read from a capacitor will dissipate the charge. for read, need to read the charge and write it back</li>
<li>DRAM: main memory typically implements DRAM, SDRAM, SDDRAM etc</li>
</ul>
<h2 id="single-cycle-data-path">single cycle data path</h2>
<h3 id="high-level-view">high level view</h3>
<p><img src="assets/w6_6.PNG" alt="img"></p>
<ul>
<li>at beginning of a cycle, PC split: one current PC goes to right, one is the computed PC+4 (top); the computations of PC+4 and the execution of current instruction happen in parallel; when a cycle finishes, it will decide whether the next instruction is PC+4, or branch target address (that is computed using <code>CBZ</code>).
<ul>
<li>actual PC is not updated until the end</li>
<li>the top right Adder is for computing target address</li>
<li>PC is stored in a register (64 bits) with d flip flop</li>
</ul>
</li>
<li>for like <code>ADD</code>, two registers X2,X3 go to ALU, result goes back to register file as data, the specified register X1 is written.</li>
<li>ALU has 4 select bit. two are op, two are A,B-invert</li>
<li>i am allowed to do read/write at the same time in register file</li>
</ul>
<h3 id="instruction-formats">instruction formats</h3>
<p>an instruction is specified by 32 bits</p>
<pre><code><code><div>R-format:   ADD X1, X2, X3      =&gt;   ADD Rd, Rn, Rm
    opcode (31-21)
    Rm (20-16)
    shamt (15-10)
    Rn (9-5)
    Rd (4-0)

I-format:   ADDI X1, X2, #4     =&gt;   ADDI Rd, Rn, immediate
    opcode (31-22)
    ALU immediate (21-10) (unsigned 12 bit)
    Rn (9-5)
    Rd (4-0)

D-format:   LDUR X1, [X2, #200] =&gt; LDUR Rd, [Rn, immediate]
    opcode (31-21)
    DT address (20-12) (signed 9 bit)
    op (11-10) (not used)
    Rn (9-5)
    Rd (4-0)

B-format:   B #3000
    opcode (31-26)
    BR address (25-0) (signed 26 bit)

CB-format:  CBZ X1, #3000 =&gt; CBZ Rt, immediate
    opcode (31-24)
    COND BR address (23-5) (signed 19 bit)
    Rt (4-0)
</div></code></code></pre>
<ul>
<li>all R-formats specify the instruction bits exactly the same. the only difference is the type of operation performed by ALU - a separate controller <em>ALU control unit</em> determines what operation</li>
<li>opcode contains a portion called <em>funct bits</em>, which only exist for R-formats</li>
</ul>
<h4 id="opcodes">opcodes</h4>
<table>
<thead>
<tr>
<th style="text-align:center">instruction</th>
<th style="text-align:left">opcode</th>
<th style="text-align:center">format</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">B</td>
<td style="text-align:left">0001 01</td>
<td style="text-align:center">B</td>
</tr>
<tr>
<td style="text-align:center">ADD</td>
<td style="text-align:left">1000 1011 000</td>
<td style="text-align:center">R</td>
</tr>
<tr>
<td style="text-align:center">ADDI</td>
<td style="text-align:left">1001 0001 00</td>
<td style="text-align:center">I</td>
</tr>
<tr>
<td style="text-align:center">CBZ</td>
<td style="text-align:left">1011 0100</td>
<td style="text-align:center">CB</td>
</tr>
<tr>
<td style="text-align:center">CBNZ</td>
<td style="text-align:left">1011 0101</td>
<td style="text-align:center">CB</td>
</tr>
<tr>
<td style="text-align:center">SUB</td>
<td style="text-align:left">1100 1011 000</td>
<td style="text-align:center">R</td>
</tr>
<tr>
<td style="text-align:center">SUBI</td>
<td style="text-align:left">1101 0001 00</td>
<td style="text-align:center">I</td>
</tr>
<tr>
<td style="text-align:center">STUR</td>
<td style="text-align:left">1111 1000 000</td>
<td style="text-align:center">D</td>
</tr>
<tr>
<td style="text-align:center">LDUR</td>
<td style="text-align:left">1111 1000 010</td>
<td style="text-align:center">D</td>
</tr>
</tbody>
</table>
<h3 id="full-data-path">full data path</h3>
<p><img src="assets/w6_7.PNG" alt="img"></p>
<h4 id="walking-through-data-path">walking through data path</h4>
<p>Control bits:</p>
<table>
<thead>
<tr>
<th style="text-align:center">type</th>
<th style="text-align:center">Reg2Loc</th>
<th style="text-align:center">ALUSrc</th>
<th style="text-align:center">MemToReg</th>
<th style="text-align:center">RegWrite</th>
<th style="text-align:center">MemRead</th>
<th style="text-align:center">MemWrite</th>
<th style="text-align:center">Branch</th>
<th style="text-align:center">ALUop1</th>
<th style="text-align:center">ALUop0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">R-format</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">LDUR</td>
<td style="text-align:center">x</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">STUR</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">x</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">CBZ</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">x</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p><strong>eg.</strong> <code>ADD X1, X2, X3</code> is R-format</p>
<p><img src="assets/w6_9.PNG" alt="img"></p>
<p>suppose current PC is 100. first these happen in parallel:</p>
<ul>
<li>PC+4 is computed at the top adder</li>
<li>instruction[31-21] goes to control mux
<ul>
<li>Reg2Loc (0) is chosen</li>
<li>ALUOp is two bits 10 (below)</li>
<li>note: Branch is 0</li>
<li>note: ALUSrc is 0</li>
<li>note: MemtoReg is 0</li>
<li>RegWrite is 1</li>
</ul>
</li>
<li>instruction[9-5] (<code>X2</code>) goes to Read register 1
<ul>
<li>Read data 1 outputs</li>
</ul>
</li>
<li>instruction[20-16] (<code>X3</code>) goes to Mux, 0 is chosen, so it goes to Read register 2
<ul>
<li>Read data 2 outputs</li>
</ul>
</li>
<li>instruction[4-0] (<code>X1</code>) goes to Write register; also goes to Mux but is not chosen</li>
<li>instruction[31-21] also goes to ALU control</li>
</ul>
<p>to the right:</p>
<ul>
<li>Read data 1 goes to ALU</li>
<li>Read data 2 goes to Mux, 0 is chosen because of ALUSrc, then goes to ALU</li>
<li>ALU performs operation according to ALU control.
<ul>
<li>ALU result outputs</li>
</ul>
</li>
</ul>
<p>to the right:</p>
<ul>
<li>ALU result goes to mem and Mux, since MemtoReg is 0, it will not read data from mem. 0 in Mux is chosen, it goes to register's Write data</li>
</ul>
<p>at the top:</p>
<ul>
<li>PC+4 goes to Mux. since Branch bit in Control is 0, mux selects 0, so PC+4 goes back to PC. PC becomes 104.</li>
</ul>
<p>ALUop has four choices: 00,01,10,11. if it is 10, that means instruction is R format. we will use function bit from instruction[31-21] to determine what to do on ALU. otherwise function bits are useless, we forward the ALUop to ALU (ie 00 -&gt; add, 11 -&gt; sub, 01 -&gt; passb). in this case <code>ADD</code> is R-format, so funct bits are used.</p>
<p><strong>eg.</strong> <code>ADDI X1, X2, #4</code> is I-format<br>
PC operations are same as above. first</p>
<ul>
<li>instruction[31-21] goes to control mux (even though actual opcode is less than 11 bits)
<ul>
<li>note: ALUop is 00</li>
<li>ALUSrc is 1</li>
</ul>
</li>
<li>instruction[9-5] goes to Read register (<code>X2</code>)</li>
<li>all instruction[31-0] goes to Sign-extend
<ul>
<li>Sign-extend interprets opcode and if it is <code>ADDI</code> or <code>SUBI</code>, then instruction[21-10] are unsigned, 12 bit immediate value i care about. Sign-extend generates a 64 bit number by padding 0's even if top bit may be 1. (note if other instructions where immediates are signed, it will pad 1's correctly for negative values, such as <code>LDUR</code>)</li>
</ul>
</li>
</ul>
<p>to the right:</p>
<ul>
<li>Read Data 1 goes to ALU</li>
<li>Sign-extend goes to Mux, since ALUSrc is 1, it goes to ALU</li>
<li>as ALUop is 00, the ALU control does not care &quot;funct bits&quot;, since 00 -&gt; add, ALU performs ALU addition</li>
<li>writing back similar</li>
</ul>
<p><strong>eg.</strong> <code>LDUR X1, [X2, #400]</code> is D-format</p>
<p><img src="assets/w6_8.PNG" alt="img"></p>
<h1 id="week-7-june-22">Week 7. June 22</h1>
<p><strong>eg.</strong> <code>CBZ X1, #100</code> is CB-format</p>
<p><img src="assets/w7_3.PNG" alt="img"></p>
<p>at the top:</p>
<ul>
<li>instruction[23-5] goes to sign extend and convert the signed bits to 64 bit signed number by correctly padding 2's complement.
<ul>
<li>it is then shifted by 2 (multiplied by 4)</li>
</ul>
</li>
<li>current PC goes to top right adder
<ul>
<li>so PC + (address*4) is computed</li>
</ul>
</li>
</ul>
<p>at same time:</p>
<ul>
<li>instruction[4-0] goes to Mux
<ul>
<li>since Reg2Loc is 1, the Mux selects 1. so it goes to Read register 2, then Read data 2 outputs</li>
</ul>
</li>
</ul>
<p>at the right:</p>
<ul>
<li>since ALUSrc is 0, Read data 2 goes to Mux and selects 0, so it goes to ALU.</li>
<li>since this is not R-format, and ALUOp is 01, ALU control forwards pass-b.
<ul>
<li>original X1 is output by ALU</li>
<li>there is a Zero bit corresponding to ALU's result. if result (X1) is 0, then the top AND gate is on. hence the top right Mux is 1. otherwise the Mux choose 0, the default PC+4.</li>
<li>so PC + (address*4) is chosen and written back</li>
</ul>
</li>
</ul>
<h2 id="single-cycle-control">single-cycle control</h2>
<p>overview:</p>
<p><img src="assets/w7_1.PNG" alt="img"></p>
<ul>
<li>ALU control only tells ALU what to do (outputs inputs to ALU)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">operation</th>
<th style="text-align:center">ALUop</th>
<th style="text-align:center">opcode</th>
<th style="text-align:center">ALU control input</th>
<th style="text-align:center">action</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">LDUR</td>
<td style="text-align:center">00</td>
<td style="text-align:center"></td>
<td style="text-align:center">0010</td>
<td style="text-align:center">add</td>
</tr>
<tr>
<td style="text-align:center">STUR</td>
<td style="text-align:center">00</td>
<td style="text-align:center"></td>
<td style="text-align:center">0010</td>
<td style="text-align:center">add</td>
</tr>
<tr>
<td style="text-align:center">CBZ</td>
<td style="text-align:center">01</td>
<td style="text-align:center"></td>
<td style="text-align:center">0011</td>
<td style="text-align:center">passb</td>
</tr>
<tr>
<td style="text-align:center">ADDI</td>
<td style="text-align:center">00</td>
<td style="text-align:center"></td>
<td style="text-align:center">0010</td>
<td style="text-align:center">add</td>
</tr>
<tr>
<td style="text-align:center">SUBI</td>
<td style="text-align:center">11</td>
<td style="text-align:center"></td>
<td style="text-align:center">0110</td>
<td style="text-align:center">sub</td>
</tr>
<tr>
<td style="text-align:center">ADD</td>
<td style="text-align:center">10</td>
<td style="text-align:center">100010 11000</td>
<td style="text-align:center">0010</td>
<td style="text-align:center">add</td>
</tr>
<tr>
<td style="text-align:center">SUB</td>
<td style="text-align:center">10</td>
<td style="text-align:center">110010 11000</td>
<td style="text-align:center">0110</td>
<td style="text-align:center">sub</td>
</tr>
<tr>
<td style="text-align:center">AND</td>
<td style="text-align:center">10</td>
<td style="text-align:center">100010 10000</td>
<td style="text-align:center">0000</td>
<td style="text-align:center">and</td>
</tr>
<tr>
<td style="text-align:center">ORR</td>
<td style="text-align:center">10</td>
<td style="text-align:center">101010 10000</td>
<td style="text-align:center">0001</td>
<td style="text-align:center">or</td>
</tr>
</tbody>
</table>
<ul>
<li>Control (left) hardwares opcodes to control bits!</li>
<li>all combinational logic: no memory, no state bits, only AND, OR gates</li>
<li>there are <em>funct bits</em> within opcode, which is only used when opcode is R-format</li>
</ul>
<h3 id="timing">timing</h3>
<p><strong>eg.</strong></p>
<p><img src="assets/w7_2.PNG" alt="img"></p>
<ul>
<li>mem units: 200ps, ALU: 200ps, reg file: 100ps read + 100 ps write</li>
<li>other units negligible</li>
<li>then R-format takes 200 (instr mem) + 100 (read reg) + 200 (alu) + 100 (write reg) = 600ps</li>
<li>LDUR: 200 (instr mem) + 100 (read addr from reg) + 200 (alu (compute addr offset)) + 200 (read mem) + 100 (write to reg) = 800ps (slowest)</li>
<li>STUR: 200 + 100 + 200 + 200 = 700ps (don't need to write to reg)</li>
<li>CBZ: 200 (instr mem) + 100 (read reg) + 200 (alu) = 500ps (we say top right adder is negligible)</li>
<li>so clock period must be increased to 800ps.</li>
</ul>
<p><strong>eg.</strong> now assume two top PC adders also take 200ps. timings stay the same because top two adders run in parallel with bottom.</p>
<p><strong>eg.</strong> now assume Control mux takes 10ps. then R-formats takes extra 10ps (reads both reg, have to wait for mux); LDUR does not (it only reads one reg); STUR takes extra 10ps; CBZ takes extra 10ps (its reg goes to Mux)</p>
<h3 id="modifying-data-path">modifying data path</h3>
<ul>
<li>normally design complete dada path for all instructions together</li>
<li>one approach:
<ul>
<li>determine new data path needed for new command</li>
<li>check if any components in current data path can be used</li>
<li>wire in components of new data path into existing</li>
<li>add new control signals, adjust old signals</li>
</ul>
</li>
</ul>
<p><strong>eg.</strong> <code>B #400</code></p>
<p>31-26 is opcode, 25-0 is BR address. also compute PC + 4*offset.</p>
<table>
<thead>
<tr>
<th style="text-align:center">type</th>
<th style="text-align:center">Reg2Loc</th>
<th style="text-align:center">ALUSrc</th>
<th style="text-align:center">MemToReg</th>
<th style="text-align:center">RegWrite</th>
<th style="text-align:center">MemRead</th>
<th style="text-align:center">MemWrite</th>
<th style="text-align:center">Branch</th>
<th style="text-align:center">ALUop1</th>
<th style="text-align:center">ALUop0</th>
<th style="text-align:center">Uncond branch</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">B</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p>Uncond branch is 0 for other instructions.</p>
<p><img src="assets/w7_4.PNG" alt="img"></p>
<p>needs to take 400ps in above settings.</p>
<p>memread, memwrite, regwrite must not be don't care</p>
<h1 id="week-8-june-29">Week 8. June 29</h1>
<h2 id="multicycle-datapath">multicycle datapath</h2>
<ul>
<li>take this datapath and break it up into 5 steps. use several clock cycles to execute one instruction</li>
<li>steps:
<ol>
<li>IF: instruction fetch, update PC+4 all times (may update again for branch instructions)</li>
<li>ID: instruction decode, read from register file</li>
<li>EX: execute, use ALUs</li>
<li>MEM: r/w memory, or maybe update PC</li>
<li>WB: may write data back to register file</li>
</ol>
</li>
</ul>
<p><img src="assets/w8_1.PNG" alt="img"></p>
<ul>
<li>each step/clock cycle is 200ps; every instruction <em>must take 5 steps</em>; total exectution time for <em>every</em> instruction is 1000ps (real muticycle control is smarter)</li>
<li><em>register banks</em> (intermediate registers) store information computed in one stage that is needed by later stages</li>
<li>simple finite state machine controller will cycle through 5 steps in order
<ul>
<li>at a time one cycle is on; at the end of a cc, data is written to intermediate registers; at the beginning of a cc, data is retrieved from intermediate registers</li>
</ul>
</li>
<li>similarity to single cycle: one instruction has exclusive use of the datapath</li>
</ul>
<h2 id="pipelined-datapath">pipelined datapath</h2>
<ul>
<li>intermediate registers are now <em>pipeline registers</em>: IFID, IDEX, EXMEM, MEMWB
<ul>
<li>they store different control bits, regWrite, etc for different ongoing instructions</li>
</ul>
</li>
<li>every stage of the pipeline contains a different instruction</li>
<li>one instruction begins every clock cycle
<ul>
<li>ideal: one completed instruction every clock cycle</li>
</ul>
</li>
<li>every pipeline register is updated every clock cycle</li>
<li>branch decision is in MEM stage</li>
</ul>
<p><strong>eg.</strong> at the end of every clock cycle, PC is updated to PC+4 instantly</p>
<p><img src="assets/w8_2.PNG" alt="img"></p>
<p>pipelined control</p>
<ul>
<li>generate all control bits, and instructions carry them in subsequent stages</li>
<li>(no need for control signals for PC and new pipeline registers)</li>
<li>in each stage, some control bits are used, and are then no longer needed for future stages</li>
<li>for Reg2Loc bit, it is inferred directly from part of the instruction before generating Control bits, so registers know what to read from in ID stage, control bits are generated in parallel in ID stage</li>
</ul>
<h3 id="pipeline-hazards">pipeline hazards</h3>
<p>hazard: event that blocks normal flow of instructions through pipeline</p>
<ul>
<li><em>structural hazard</em>: with single instruction/data memory, instruction fetch cannot overlap with load/store
<ul>
<li>solution: separate instruction and data mem again</li>
</ul>
</li>
<li><em>data harzard</em>: result of one instruction is needed by next instruction</li>
<li><em>control hazard</em>: conditional branch instruction may change sequence of instructions executed</li>
</ul>
<h3 id="data-hazard">data hazard</h3>
<p><strong>eg.</strong><br>
<img src="assets/w8_3.PNG" alt="img"></p>
<ul>
<li>backward arrow means a value needs a future value - cannot go back in time</li>
<li>STUR is ok - value used after writing</li>
<li>ADD is ok: solution: allow reg file to be written to in 1st half, and read from in 2nd half</li>
<li>AND has data hazard: solution: delay 2 cycles</li>
<li>ORR has data hazard: solution: delay a cycle</li>
<li>new code:<pre><code><code><div>000 SUB X2,X1,X3
004 NOP
008 NOP
012 AND X12,X2,X5
016 ORR X13,X6,X2
020 ADD X14,X2,X2
024 STUR X15,[X2,#100]
</div></code></code></pre>
</li>
<li><code>NOP</code> has its own line number, uses one clock cycle</li>
</ul>
<p>solution2: in SUB, X2 is computed in ALU in CC3, in AND, X2 is an input of ALU in CC4. we can forward the computed value directly.<br>
<img src="assets/w8_4.PNG" alt="img"></p>
<h3 id="forwarding-datapath">forwarding datapath</h3>
<p><img src="assets/w8_5.PNG" alt="img"></p>
<ul>
<li>ALUSrc bit and mux omitted</li>
<li>Forwarding unit takes in three register numbers to determine if the farwarding is needed
<ul>
<li>2 outputs: ForwardA, ForwardB to control input of ALU
<ul>
<li>0: no forwarding</li>
<li>1: forwarding from WB stage</li>
<li>2: forwarding from MEM stage</li>
</ul>
</li>
</ul>
</li>
<li>only take data from where it is stable: pipeline registers, not middle of a clock cycle</li>
</ul>
<p><strong>eg.</strong> have two R-formats. if destination register of one instruction is the first source of the next instruction, then the condition is</p>
<ol>
<li>EX/MEM.RegisterRd = ID/EX.RegisterRn1</li>
<li>EX/MEM.RegWrite = 1</li>
</ol>
<p>where</p>
<ul>
<li>ID/EX.RegisterRn1 means the name of the register indicated in the Rn field of instruction <em>currently</em> in ID/EX whose data come out of port 1 of the register file</li>
<li>ID/EX.RegisterRm2 means the name of the register indicated in the Rm field of instruction whose data come out of port 2 of the register file (output of Reg2Loc)</li>
</ul>
<p><strong>eg.</strong></p>
<pre><code><code><div>ADD X2, X6, X5
AND X12, X2, X5
</div></code></code></pre>
<p><img src="assets/w8_6.PNG" alt="img"></p>
<p><strong>eg.</strong> <em>load-use hazard</em>: this does not work if the first instruction is LDUR X2, [...] since the value is not ready. we have to delay it (by inserting a NOP between LDUR and AND), and do the forwarding next stage</p>
<pre><code><code><div>LDUR X2, [X5, #100]     // NOP should be followed
AND X12, X2, X5
</div></code></code></pre>
<p><img src="assets/w8_7.PNG" alt="img"></p>
<p><strong>eg.</strong> consider code</p>
<pre><code><code><div>1. LDUR X1,[X2,#10]
2. LDUR X3,[X5,#10]     // load-use hazard
3. ADD X3,X5,X3
4. STUR X3,[X5,#10]
5. LDUR X1,[X6,#10]     // load-use hazard
6. ADD X3,X1,X4
7. STUR X4,[X3,#10]
8. ADDI X6,X4,X4
</div></code></code></pre>
<ul>
<li>assuming forwarding, then we need to insert a NOP after lines 2, 5</li>
<li>assuming without forwarding, we need to insert 2 NOPs after lines 2, 3, 5, 6</li>
</ul>
<h1 id="week-9-july-6">Week 9. July 6</h1>
<p><strong>conditions of forwarding</strong></p>
<ul>
<li>EX hazard 1a (forwarding from MEM to EX)
<ul>
<li>if <code>EX/MEM.RegWrite and EX/MEM.RegisterRd != 31 and EX/MEM.RegisterRd == ID/EX.RegisterRn1</code>, then forwardA = 10</li>
<li>1b similar, but with Rm2, ForwardB</li>
</ul>
</li>
<li>MEM hazard 2a (forwarding from WB to EX)
<ul>
<li>if <code>MEM/WB.RegWrite and MEM/WB.RegisterRd != 31 and not (EX/MEM.RegWrite and EX/MEM.Rd != 31 and EX/MEM.RegisterRd == ID/EX.RegisterRn1) and MEM/WB.RegisterRd == ID/EX.RegisterRn1</code>, then ForwardA = 01</li>
<li>
<ul>
<li>1b similar, but with Rm2, ForwardB</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>forwarding helps everything except LDUR.</p>
<h3 id="load-use-stalling">load-use stalling</h3>
<p><img src="assets/w9_1.PNG" alt="img"></p>
<ul>
<li>the Hazard detection unit detects load-use hazard and inserts stalls in hardware</li>
<li>delay the instruction behind (ADD) for one cycle
<ul>
<li>turn one copy of the instruction behind into a NOP by zeroing the control bits for the next clock cycle</li>
<li>also block IF/ID register to not allow new instructions to be fetched and prevent PC from changing</li>
</ul>
</li>
<li>so the instruction behind does nothing for one cycle, then continue going</li>
</ul>
<p><strong>conditions</strong></p>
<ul>
<li>instruction in ID/EX register must be load (can check MemRead signal)</li>
<li>if <code>ID/EX.MemRead and (ID/EX.RegisterRd == IF/ID.RegisterRn1 or ID/EX.RegisterRd == IF/ID.RegisterRm2)</code></li>
</ul>
<h3 id="code-rearrangement-with-data-forwarding">code rearrangement with data forwarding</h3>
<ul>
<li>do not swap lines of code with data dependencies</li>
<li>do not swap into or out of loops</li>
</ul>
<p><strong>eg.</strong> insert line 5 between 2 and 3 in the last eg to avoid NOP.</p>
<h3 id="timing-1">timing</h3>
<ul>
<li>assign one clock cycle per instruction, plus the pipelining start time time (4 cycles)</li>
</ul>
<p><strong>eg.</strong> in the last eg, it takes 8 (each) + 2 (two load-use stalling) + 4 (start) = 14 cycles</p>
<h3 id="control-hazard-cbz">control hazard (CBZ)</h3>
<p><strong>eg.</strong><br>
<img src="assets/w9_2.PNG" alt="img"></p>
<p>before the branching decision is made in the <em>branch in mem stage</em>, three instructions (in IF, ID, EX stages) already began, we might want to cancel them if the branch condition is met.</p>
<ul>
<li>if should take branch, flush the three instructions behind</li>
<li>zero out all control bits for 48 and 52 so they become NOP</li>
<li>44 does not have control bits yet, we may turn it into a harmless NOP instruction (changing opcode)</li>
<li>3 clock cycles wasted</li>
<li>if not take the branch, do nothing</li>
</ul>
<h3 id="branch-in-id-stage">branch in ID stage</h3>
<ul>
<li>branch decision is pulled to ID stage instead of MEM stage
<ul>
<li>because we already know the content of X1 in <code>CBZ X1,9</code> right after it goes out of register file</li>
</ul>
</li>
<li>only flush one instruction in IF stage, thus wasting one clock cycle</li>
</ul>
<p><img src="assets/w9_3.PNG" alt="img"></p>
<p><strong>eg.</strong> what is the running time for</p>
<pre><code><code><div>100 ADDI X1,XZR,#20
104 ADDI X2,XZR,#0
108 LDUR X3,[X4,#0]  // loop
112 ADD X2,X2,X3     // hazard &lt;- insert stalling
116 ADDI X4,X4,#8
120 SUBI X1,X1,#1
124 CBNZ X1,#-4      // every time this jumps, add flushing
128 SUB X5,X5,X2
132 LDUR X3,[X6,#100]
136 ADDI X29,XZR,#100
</div></code></code></pre>
<p>assuming forwarding, stalling, and branching in MEM</p>
<ul>
<li>2 (first 2 lines)</li>
<li>+ 19(5+1+3) (first 19 iterations: 5 instr, 1 nop, 3 flush)</li>
<li>+ 5+1 (last iteration, 5 instr, 1 nop, no flush)</li>
<li>+ 3 (last 3 lines)</li>
<li>+ 4 (start pipeline) = 186</li>
</ul>
<p>if there is no flushing, we have to insert 3 NOPs after line 124.</p>
<p>assuming branching in ID</p>
<ul>
<li>there is <em>branch data hazard</em> in line 120 and 124 since CBNZ wants X1 in ID stage, but X1 now is being computed by SUBI in EX stage. we have to insert one <em>branch data stalling</em> NOP in between so that SUBI can finish computation and store X1 result in MEM/WB register, then forwarded back to CBNZ in ID.</li>
<li>2 (first 2 lines)</li>
<li>+ 19(5+1+1+1) (first 19 iterations: 5 instr, 1 stalling, 1 branch stalling, 1 flush)</li>
<li>+ 5+1+1 (last iteration, 5 instr, 1 stalling, 1 branch stalling, no flush)</li>
<li>+ 3 + 4 = 168</li>
</ul>
<p>if there is no flushing, we have to insert 1 NOP after line 124.<br>
if we swap line 112 and 120, both data hazard in 112 and branch data hazard in 124 are also resolved -&gt; time: 168-20(2)=128</p>
<p>a branch data hazard can exist in any pipelined datapath when forwarding is not present.</p>
<h3 id="branch-prediction">branch prediction</h3>
<p>in the IF stage</p>
<ul>
<li>recognize the address of a CBZ instruction</li>
<li>store BTA in a prediction table which exists in IF stage</li>
<li>guess whether the branch will be taken</li>
</ul>
<p><img src="assets/w9_4.PNG" alt="img"></p>
<ul>
<li>PC checks table every clock cycle, if it is CBZ, may choose to load the BTA right away
<ul>
<li>or check the prediction bits</li>
<li>eg: if branch was taken the last time this instruction is executed, take branch again</li>
<li>still check if X1 is 0 in ID stage</li>
<li>if branch was predicted incorrectly, flush it out</li>
</ul>
</li>
<li>hardware needs to store
<ul>
<li>address of CBZ instruction</li>
<li>destination of CBZ instruction if taken</li>
</ul>
</li>
</ul>
<p><strong>eg.</strong> strategies:</p>
<pre><code><code><div>100 ADDI X4,X31,#6
    ...
120 SUBI X1,X1,#1
124 CBNZ X4,#-5
128 ADD X1,X2,X3
</div></code></code></pre>
<ul>
<li><em>predict &quot;not taken&quot;</em>: 5 incorrect (always flush 128), 1 correct (go to 128)</li>
<li><em>predict &quot;taken&quot;</em>: 5 correct (go to 100), 1 incorrect (flush 100)
<ul>
<li>hard to implement: need to know BTA ahead of time</li>
</ul>
</li>
<li><em>&quot;1-bit prediction&quot;</em>: 1 incorrect, 4 correct, 1 incorrect</li>
<li>
<ul>
<li>we update prediction if get wrong once</li>
<li>first time handling CBZ, record its address and BTA. if the branch is taken, set prediction bit to 1 for this record</li>
<li>next times handling CBZ, locate this CBZ using the address and BTA, if prediction bit is 1, predict taken, otherwise predict not taken</li>
<li>if prediction is wrong, update prediction bit</li>
<li>0 -&gt; 1 -&gt; 1 -&gt; 1 -&gt; 1 -&gt; 1 -&gt; 0</li>
</ul>
</li>
</ul>
<h3 id="2-bit-prediction">2-bit prediction</h3>
<ul>
<li>use 2 prediction bits</li>
<li>only if prediction is wrong twice will the prediction change</li>
</ul>
<p><img src="assets/w9_5.PNG" alt="img"></p>
<p><strong>eg.</strong> for the above eg</p>
<ul>
<li>first time encountering this code: 00 -&gt; 01 -&gt; 10 -&gt; 11 -&gt; 11 -&gt; 11 -&gt; 10 (2 incorrect, 3 correct, 1 incorrect)</li>
<li>second time: 10 -&gt; 11 -&gt; 11 -&gt; 11 -&gt; 11 -&gt; 11 -&gt; 10 (5 correct, 1 incorrect)</li>
</ul>
<h3 id="performance">performance</h3>
<ul>
<li>assume 22% loads, 11% stores, 49% R-format, 16% branches, 2% jumps (uncond)</li>
<li>assume half of all loads followed by use (load-use hazard)</li>
<li>assume quarter of all branch predictions are incorrect (flushed)</li>
<li>average number of cycles per instruction: 0.22*1.5 + 0.11*1 + 0.49*1 + 0.16*1.25 + 0.02*2 = 1.17</li>
<li>one cycle uses 200ps</li>
<li>B: also in ID stage, but automatic flush of next instruction</li>
</ul>
<h1 id="week-10-july-13">Week 10. July 13</h1>
<h2 id="memory-hierarchies">memory hierarchies</h2>
<p>principles of locality:</p>
<ul>
<li><em>temporal locality</em>: if one data location is referenced once, then it will tend to be referenced again soon
<ul>
<li>loops: fetch same instructions over again</li>
</ul>
</li>
<li>spatial locality: if one data location is referenced, that data locations with nearby addresses will also tend to be referenced soon</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">speed</th>
<th style="text-align:center">CPU</th>
<th style="text-align:center">size</th>
<th style="text-align:center">cost</th>
<th style="text-align:center">current technology</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">fastest</td>
<td style="text-align:center">memory</td>
<td style="text-align:center">smallest</td>
<td style="text-align:center">highest</td>
<td style="text-align:center">SRAM</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">memory</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">DRAM</td>
</tr>
<tr>
<td style="text-align:center">slowest</td>
<td style="text-align:center">memory</td>
<td style="text-align:center">biggest</td>
<td style="text-align:center">lowest</td>
<td style="text-align:center">magnetic disk</td>
</tr>
</tbody>
</table>
<ul>
<li>main memory implemented from DRAM</li>
<li>SRAM for levels closer to the processor (caches)</li>
</ul>
<h3 id="cache-associativity">cache associativity</h3>
<p>ignore L2, L3; imagine we only have L1 cache (instruction memory/cache, data memory) and main memory.</p>
<h3 id="direct-mapped-cache">direct mapped cache</h3>
<p><strong>eg.</strong> <em>one way associative</em>: items map to one and only one location</p>
<p>when CPU needs memory access at address <code>abcde</code>, <code>cde</code> called <em>lower order 3 bits</em>, <code>ab</code> called <em>tag bits</em>.</p>
<ul>
<li>8x1 configuration</li>
<li>memory has 2^5 places, cache has 2^3 occupiable places</li>
<li>when request for the first time, there is a miss, the cache unit at index <code>cde</code> is populated with data at <code>mem[abcde]</code> copied from memory, and has a tag bit <code>ab</code>. the valid bit is updated to 1.</li>
<li>when requesting later, <code>cde</code> is indexed in cache, if V is 1, check the tag bit, if it is <code>ab</code>, get the data there.</li>
<li>if tag field does not match, kick out the original cache</li>
</ul>
<p><img src="assets/w10_1.PNG" alt="img"><br>
V: valid bit: cache is meaningful or empty cache</p>
<p><strong>eg.</strong> <em>2-way set associative cache</em>: 2 rows</p>
<p>memory address being <code>abcde</code>, for cache, index bit is <code>de</code>, have two tag fields, each 3 bits (<code>abc</code>)</p>
<ul>
<li>4x2 configuration</li>
<li>memory has 2^5 places, cache has 2^2 places</li>
<li>each cache row can store two data, by using two tag fields.</li>
<li>when miss, index cache using <code>de</code>, then find empty slots in this row and store <code>abc</code> as tag bits and copy mem data.</li>
</ul>
<p><img src="assets/w10_2.PNG" alt="img"><br>
generally increase number of hits</p>
<p><strong>eg.</strong> 4-way set associative cache: 2x4 configuration</p>
<p><strong>eg.</strong> fully associative cache: 1x8 configuration, only one unique addr, 8 tag fields, 5 tag bits</p>
<p><strong>eg.</strong> implementation of 4-way associative cache<br>
<img src="assets/w10_4.PNG" alt="img"><br>
note all 4 columns are compared against tag bits in parallel.</p>
<p><strong>eg.</strong> as associativity (column) increase, lookup time remains the same but hardware increases, number of possible address in cache increases.</p>
<h3 id="replacement-scheme">replacement scheme</h3>
<ul>
<li>what to replace in cache when there is no more room</li>
<li><em>LRU</em>: one location needs to be overwritten, replace least recently used</li>
</ul>
<p><strong>eg.</strong><br>
<img src="assets/w10_3.PNG" alt="img"></p>
<h3 id="larger-block-size">larger block size</h3>
<ul>
<li>in prior example we assumed block sizes of one word, and not differentiate between instruction cache and data cache</li>
<li>now:</li>
<li>when requesting, not only one word is fetched, but blocks of words are copied</li>
<li>data cache:
<ul>
<li>word size in data cache is 64 bits / 1 dword</li>
</ul>
</li>
<li>instruction cache:
<ul>
<li>instruction size in instruction cache is 32 bits / 1 word</li>
<li>however, the size of data brought in from RAM is going to be multiples of 8 bytes</li>
<li>block of 1 = dword / 64 bits / 2 instructions</li>
</ul>
</li>
</ul>
<p><strong>eg.</strong><br>
<img src="assets/w10_5.PNG" alt="img"></p>
<ul>
<li>block size: 4; always aligned; 1-way associative 8x4 configuration</li>
<li>if I try retrieve 104, i determine which block it belongs to (belongs to 96)</li>
<li>run time: 4 + 104 (miss) = 108cc</li>
<li>if I LDUR 368 (tag: 001, indx: 011, block: 10), i have miss. i will rewrite all 4 bytes starting from mem[352] (tag: 001, indx: 011, block: 00)</li>
<li>D: dirty bit:
<ul>
<li>write back policy:</li>
<li>if I STUR, I modify cache; now cache and mem have different data, turn D to 1</li>
<li>if I LDUR same address, write cache content back to mem, then load mem back to cache (one extra 104cc), turn D to 0</li>
</ul>
</li>
<li>if block size is 8, we need 3 block bit (take the lowest order indx bit and shift it to block bit; if indx bit needs more, take from tag bit)</li>
</ul>
<p><strong>eg.</strong><br>
<img src="assets/w10_6.PNG" alt="img"><br>
run time: 104*3 (misses) + 104*1 (writeback) + 6(instr), assuming no hazard</p>
<ul>
<li>average run time per instruction: 1 + 104*miss rate</li>
</ul>
<h1 id="week-11-july-20">Week 11. July 20</h1>
<h2 id="virtual-memory">virtual memory</h2>
<p><img src="assets/w11_1.PNG" alt="img"></p>
<ul>
<li>entire programs are stored on disk as <em>pages</em> (virtual memory block)
<ul>
<li><em>page fault</em>: virtual memory miss</li>
</ul>
</li>
<li><em>virtual memory</em> allows to page in and page out data as needed
<ul>
<li>organizing relationship between RAM (physical memory) and disk</li>
<li>run 2 programs on one processor</li>
<li>every program thinks it begins at virtual address 0, virtual page 0</li>
<li><em>page table</em> in dedicated region in RAM maps from virtual page to physical page (from virtual address to physical address)</li>
<li>every program has its own page table</li>
<li>virtual page size = physical page size</li>
</ul>
</li>
<li><code>LDUR X1, [X2,#0]</code> is virtual address</li>
</ul>
<h3 id="page-table">page table</h3>
<ul>
<li>address broken up to 2 parts: <em>virtual page number</em>, <em>offset</em></li>
<li>each page of data is a particular size</li>
<li>VPN -&gt; PPN</li>
<li>offset into the page (12 bits) remain the same for both VP and PP
<ul>
<li>indicates size of page: 4kb</li>
</ul>
</li>
</ul>
<p><img src="assets/w11_2.PNG" alt="img"></p>
<p>when program 1 loaded:</p>
<ul>
<li>step1: ptr stores the location of the page table.</li>
<li>step2: page table translates virtual page number (VPN) to physical page number (PPN)
<ul>
<li>if that page is not loaded to memory yet (page fault), then go copy the page from disk</li>
<li>valid bit tells this</li>
</ul>
</li>
<li>and virtual address to physical address (PA) using a offset relative to page
<ul>
<li>the offset needs not be multile of 4 or 8 -&gt; go up by 1</li>
<li>the offset is copied over (same for both virtual and physical)</li>
<li>the full address is page number + offset</li>
</ul>
</li>
</ul>
<p><strong>remark.</strong> all pages are always on disk.</p>
<p>page replacement policy:</p>
<ul>
<li>optimal: replace page used farthest into the future
<ul>
<li>good approximation: LRU (least recently used)</li>
</ul>
</li>
<li>VM must use write-back (copyback)
<ul>
<li>use dirty bit to denote whether page changed</li>
</ul>
</li>
<li>if page tables are large, can use multi level</li>
</ul>
<h3 id="translation-look-aside-buffer-tlb">translation look aside buffer (TLB)</h3>
<ul>
<li>translation between virtual and physical addresses needs to look up page table in RAM</li>
<li>instead, use cache for address translations only</li>
<li>CPU gets a virtual address:
<ul>
<li>first check TLB, if not present, check page table</li>
<li>whenever there is miss, bring in data; also update page table and TLB</li>
</ul>
</li>
</ul>
<p><img src="assets/w11_3.PNG" alt="img"></p>
<p>if Ref bit is on, that means the address translation exists in both page table and TLB. if we kick out the page from RAM (thus from page table), we release both page table and TLB references (set valid to 0, if dirty is 1, write back). we also remove cache entry.</p>
<ul>
<li>if TLB is full, only kicking out an entry from TLB does not trigger memory write-backs, since the page still exists in page table</li>
<li>we can clear all reference bits to 0 if TLB is full</li>
</ul>
<p><img src="assets/w11_4.PNG" alt="img"></p>
<ul>
<li>A best scenario: we hold virtual address, find physical address in TLB and data in cache. so we never leave CPU.</li>
<li>B TLB hit and cache miss</li>
<li>C TLB miss and cache hit</li>
<li>D worst: TLB miss and cache miss</li>
<li>TLB and cache are not interdepedent
<ul>
<li>however cache and RAM access are dependenet</li>
<li>TLB and RAM access are dependent</li>
<li>page table and RAM access are dependent</li>
</ul>
</li>
</ul>
<p><img src="assets/w11_5.PNG" alt="img"></p>
<p><strong>remark.</strong> there are two levels of dirty bits: page level and cache level. for STUR, we update cache, page, then to disk.</p>
<h3 id="swapping-between-two-processes">swapping between two processes</h3>
<ul>
<li>need to save state of running program
<ul>
<li>PC, registers, page table register all saved</li>
<li>clear: flush cache and TLB</li>
</ul>
</li>
<li>next program starts:
<ul>
<li>PC: loaded back. PTR and state of registers restored</li>
<li>initially cache and TLB will miss</li>
</ul>
</li>
</ul>

    </body>
    </html>